<!DOCTYPE html>

<html>
    <head>
        <meta charset="UTF-8">
        <title>Contacto - Barbería Deluxe</title>
        <link rel="stylesheet" href="/reset.css">
        <link rel="stylesheet" href="/style.css">
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    </head>
    <body>
        <header>
            <div class="caja">
                <h1><img src="/public/images/logo.png" alt="Logo de la Barbería Alura"></h1>
                <nav>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="productos.html">Productos</a></li>
                        <li><a href="contacto.html">Contacto</a></li>
                    </ul>
                </nav>
            </div>
        </header>
        <main class="contacto">
            <form id="contactForm">
                <label for="nombreapellido">Nombre y Apellido</label>
                <input type="text" id="nombreapellido" class="input-padron" required>

                <label for="correoelectronico">Correo Electrónico</label>
                <input type="email" id="correoelectronico" class="input-padron" required placeholder="example@dominio.com">

                <label for="telefono">Teléfono</label>
                <input type="tel" id="telefono" class="input-padron" required placeholder="(+XX) XXX XXX XXXX">

                <label for="mensaje">Mensaje</label>
                <textarea cols="70" rows="10" id="mensaje" required></textarea>

                <fieldset>
                    <legend>¿Cómo le gustaría que lo contactemos?</legend>

                    <label for="radio-email"><input type="radio" name="contacto" value="email" id="radio-email">Email</label>
                    

                    <label for="radio-telefono"><input type="radio" name="contacto" value="telefono" id="radio-telefono">Teléfono</label>
                    

                    <label for="radio-whatsapp"><input type="radio" name="contacto" value="WhatsApp" id="radio-whatsapp" checked>WhatsApp</label>
                    
                </fieldset>

                <fieldset>
                    <legend>¿En cuál horario prefiere ser atendido?</legend>
                    <select>
                        <option>Mañana</option>
                        <option>Tarde</option>
                        <option>Noche</option>
                    </select>
                </fieldset>
                
                <label class="checkbox"><input type="checkbox" checked>Le gustaría recibir novedades de la Barbería Deluxe?</label>
                <input type="submit" value="Enviar Formulario" class="enviar">

            </form>

            <table>
                <thead>
                    <tr>
                        <td>Día</td>
                        <td>Horario</td>
                    </tr>
                </thead>

                <tbody>
                    <tr>
                        <td>Lunes</td>
                        <td>08h ~ 20h</td>
                    </tr>
                    <tr>
                        <td>Miércoles</td>
                        <td>08h ~ 20h</td>
                    </tr>
                    <tr>
                        <td>Viernes</td>
                        <td>08h ~ 20h</td>
                    </tr>
                </tbody>    
            </table>
        </main>
        <footer>
            <img src="/public/images/logo.png" alt="Logo de la Barbería Deluxe">
            <p class="copyright">© Copyright Barbería Deluxe - 2024</p>
        </footer>

        <script>
            document.getElementById("contactForm").addEventListener("submit", function(e) {
                e.preventDefault();

                const nombre = document.getElementById("nombreapellido").value;
                const email = document.getElementById("correoelectronico").value;
                const telefono = document.getElementById("telefono").value;
                const mensaje = document.getElementById("mensaje").value;

                let Formularios = JSON.parse(localStorage.getItem("formularios")) || [];

                if(!nombre || !email || !telefono || !mensaje){
                    Swal.fire({
                        icon: 'error',
                        title: 'Error',
                        text: 'Por favor, complete todos los campos del formulario.',
                    });
                    return;
                }

                Formularios.push({nombre, email, telefono});
                localStorage.setItem("formularios", JSON.stringify(Formularios));

                Swal.fire({
                    icon:'success',
                    title: 'Formulario enviado',
                    text: `Gracias, ${nombre}. Nos pondremos en contacto contigo pronto.`,
                    confirmButtonText: 'Aceptar'
                }).then(() => {
                    document.getElementById('contactForm').reset(); // Limpiar el formulario
                    window.location.href = 'index.html';
                });
            });
        </script>
    </body>
</html>